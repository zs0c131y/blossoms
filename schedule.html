<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes"
    />
    <meta name="theme-color" content="transparent" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Schedule - SWO</title>
    <link rel="stylesheet" href="schedule.css" />
    <link
      rel="shortcut icon"
      href="./assets/images/swo.png"
      type="image/x-icon"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Headland+One&family=Questrial&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar">
      <img
        src="./assets/images/swo-logo-tp.png"
        alt="SWO Logo"
        class="logo swo-logo"
      />

      <button class="mobile-menu-btn" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <div class="nav-links">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="schedule.html" class="active">Schedule</a></li>
          <!-- <li><a href="#gallery">Gallery</a></li> -->
        </ul>
      </div>

      <img
        src="./assets/images/cu-logo-tp.png"
        alt="CHRIST Logo"
        class="logo christ-logo"
      />
    </nav>

    <main>
      <h1 class="title">Schedule</h1>
      <p class="subtitle">View the schedule of events!</p>

      <div class="doc">
        <div class="doc-container">
          <style>
            /* Inject critical styles directly */
            #magazineViewport,
            .magazine-viewport,
            .container,
            #canvas {
              background: transparent !important;
            }
            .logo-backs, .logo-backs2, a[href="https://heyzine.com"], .controls-pdf
            {
              display: none !important;
            }
          </style>
          <div
            id="canvas"
            style="background: transparent !important; padding: 0"
          >
            <iframe
              src="https://heyzine.com/flip-book/3b26db88f8.html"
              style="
                width: 100%;
                height: 100vh;
                border: none;
                background: transparent;
              "
              frameborder="0"
              allowfullscreen
            >
            </iframe>
          </div>
        </div>
      </div>
      <a
        href="https://docs.google.com/document/d/e/2PACX-1vRpZbz3ufIKZcbyxSZy-0velzjcDGv6WmNSDIDSLkEn_EC72VrZ3SCVoUAeSe5D8P8JRpN5CG5CWDtz/pub?embedded=true"
        class="error"
        target="_blank"
        >If you can't see the schedule properly, click here.</a
      >
      <a href="events.html" class="contact-btn">See Events</a>
    </main>

    <footer>
      <div class="footer-content">
        <div class="divider-line"></div>
        <p>
          In case of queries, please drop a mail to
          swo.yeshwanthpur@christuniversity.in
        </p>
        <p>or visit the SWO Office on 7th Floor, Block C.</p>
        <br />
        <p>
          Made with <span class="heart">‚ù§</span> in CHRIST University,
          Yeshwanthpur
        </p>
        <p>Made by Adarsh Gupta & Shashwat</p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const mobileMenuBtn = document.querySelector(".mobile-menu-btn");
        const navLinks = document.querySelector(".nav-links");
        const body = document.body;
        const iframe = document.querySelector("iframe");

        // Mobile Menu Toggle
        mobileMenuBtn.addEventListener("click", function () {
          this.classList.toggle("active");
          navLinks.classList.toggle("active");
          body.style.overflow = this.classList.contains("active")
            ? "hidden"
            : "";
        });

        // Close menu when clicking outside
        document.addEventListener("click", function (e) {
          if (
            !mobileMenuBtn.contains(e.target) &&
            !navLinks.contains(e.target)
          ) {
            mobileMenuBtn.classList.remove("active");
            navLinks.classList.remove("active");
            body.style.overflow = "";
          }
        });

        // Iframe Adjustment Function
        function adjustIframe() {
          const windowWidth = window.innerWidth;
          const windowHeight = window.innerHeight;

          // Set proper zoom and height based on screen size
          if (windowWidth <= 480) {
            iframe.style.height = "80vh";
            iframe.style.minHeight = "300px";
            // Small mobile devices
            document.querySelector(".doc").style.zoom = "1"; // Reset container zoom
          } else if (windowWidth <= 768) {
            iframe.style.height = "75vh";
            iframe.style.minHeight = "350px";
            // Tablets and larger phones
            document.querySelector(".doc").style.zoom = "1"; // Reset container zoom
          } else {
            iframe.style.height = "70vh";
            iframe.style.minHeight = "400px";
            document.querySelector(".doc").style.zoom = "1"; // Reset container zoom
          }
        }

        // Initial iframe adjustment
        if (iframe) {
          adjustIframe();

          // Adjust iframe on resize
          window.addEventListener("resize", adjustIframe);

          // Handle iframe load
          iframe.addEventListener("load", function () {
            adjustIframe();
            // Ensure content is scrollable
            if (this.contentWindow) {
              this.contentWindow.document.body.style.overflow = "auto";
            }
          });
        }
      });
    </script>
  </body>
</html>
